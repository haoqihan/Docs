---
title: linux权限管理之基本权限
date: 2019-02-13 17:40:12
tags: [linux]
categories: [linux]
---

### 文件基本权限

#### 基本权限的修改

```shell
-rw-r--r--
	-	文件类型（-文件 d目录 | 软连接）
	rw-		r--		r--
	u所有者  g所属组  o其他人
	r 读	w 写	x 执行

chmod命令
chmod [选项] 模式 文件名
选项：
	-R	递归
模式：
	[ugoa][+-=][rwx]
	[mode=421]

权限的数字表示
	r	4
	w	2
	x	1

```

#### 权限的作用

##### 权限对文件的作用

```shell
r	读取文件内容（cat more head tail）
w	编辑，新增，修改文件内容，但是不包含删除文件（vi echo）
x	可执行
```

##### 权限对目录的作用

```shell
r	可以查询目录下文件名（ls）
w	具有修改目录结构的权限，如新建文件和目录，删除此目录下文件和目录，重命名此目录下文件和目录，剪切（touch rm mv cp）
x	可以进入目录
目录适用的权限：0 5 7三种
```

#### 其他权限命令

```shell
chown 用户名 文件名  # 修改文件所有者
chgrp 组名 文件名	# 修改所属组
```

### 文件默认权限

#### 查看默认权限的命令

```shell
umask
# 查看默认权限

0022
	第一位0：文件特殊权限
	022		文件默认权限
```

#### 文件的默认权限

- 文件默认不能建立执行文件，必须手工赋予执行权限
- 所以文件默认权限最大是666
- 默认权限需要换算成字母再相减
- 建立文件后的默认权限，为666减去umask值

```shell
例如:
	文件默认最大权限666 umask值022
	-rw-rw-rw- 减去 -----w--w- 等于 -rw-r--r--
例如:
	文件默认最大权限666 umask值033
	-rw-rw-rw- 减去 -----wx-wx 等于 -rw-r--r--
```

#### 目录的默认权限

- 目录默认权限最大为777
- 默认权限需要算成字母再相减
- 建立文件之后的默认权限,为777减去umask值

```shell
例如:
	文件夹默认最大权限777 umask值022
	-rwxrwxrwx 减去 -----w--w- 等于 -rwxr-xr-x
例如:
	文件夹默认最大权限777 umask值033
	-rw-rw-rw- 减去 -----wx-wx 等于 -rw-r--r--
```
